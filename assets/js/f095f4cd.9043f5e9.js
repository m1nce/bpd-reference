"use strict";(self.webpackChunkbpd_reference=self.webpackChunkbpd_reference||[]).push([[28],{8406:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>d,toc:()=>p});var a=n(4848),i=n(8453),r=n(8597),o=n(5158);const s={sidebar_position:8,sidebar_label:"Boostrapping and Confidence Intervals",title:"Bootstrapping and Confidence Intervals",tags:["for-loop","histogram"]},l=void 0,d={id:"statistical-inference/bootstrapping",title:"Bootstrapping and Confidence Intervals",description:"Concept",source:"@site/docs/statistical-inference/bootstrapping.md",sourceDirName:"statistical-inference",slug:"/statistical-inference/bootstrapping",permalink:"/bpd-reference/docs/statistical-inference/bootstrapping",draft:!1,unlisted:!1,editUrl:"https://github.com/dsc-courses/bpd-reference/tree/main/docs/statistical-inference/bootstrapping.md",tags:[{label:"for-loop",permalink:"/bpd-reference/docs/tags/for-loop"},{label:"histogram",permalink:"/bpd-reference/docs/tags/histogram"}],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,sidebar_label:"Boostrapping and Confidence Intervals",title:"Bootstrapping and Confidence Intervals",tags:["for-loop","histogram"]},sidebar:"statsSidebar",previous:{title:"Standard Units, Correlation, Regression",permalink:"/bpd-reference/docs/statistical-inference/standard_units"},next:{title:"Hypothesis Test vs. Permutation Test",permalink:"/bpd-reference/docs/statistical-inference/concept check/hypothesis_vs_permutation"}},c={},p=[{value:"Concept",id:"concept",level:2},{value:"Code Example",id:"code-example",level:2},{value:"1. Take a random sample of size 12 from the <code>full_pets</code> DataFrame.",id:"1-take-a-random-sample-of-size-12-from-the-full_pets-dataframe",level:3},{value:"2. Find the observed parameter",id:"2-find-the-observed-parameter",level:3},{value:"3. Bootstrap the sample 10,000 times with replacement",id:"3-bootstrap-the-sample-10000-times-with-replacement",level:3},{value:"4. Create a 95% confidence interval",id:"4-create-a-95-confidence-interval",level:3},{value:"5. Conclusion",id:"5-conclusion",level:3},{value:"6. Extra",id:"6-extra",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"concept",children:"Concept"}),"\n",(0,a.jsx)(t.admonition,{title:"Key Idea",type:"tip",children:(0,a.jsx)(t.p,{children:"We use a bootstrapping to estimate the distribution of the sample statistic to see how different our sample statistic could have been. We use confidence intervals to define a range that captures most of the bootstrapped distribution of the sample statistic."})}),"\n",(0,a.jsxs)(t.admonition,{title:"Terminology",type:"info",children:[(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Bootstrapping"}),": Bootstrapping is a type of hypothesis test that involves resampling from a single sample to estimate the\r\ndistribution of the sample statistic. It answers the question how different the sample statistic could have been if given a different sample. To conduct bootstrapping:"]}),(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Resample from the original sample with replacement."}),"\n",(0,a.jsx)(t.li,{children:"Calculate the sample statistic on the bootstrap resample."}),"\n",(0,a.jsx)(t.li,{children:"Save the results into an array."}),"\n",(0,a.jsx)(t.li,{children:"Repeat steps 1 and 2 to generate an empirical distribution of the test statistic."}),"\n",(0,a.jsx)(t.li,{children:"Calculate the confidence interest and see if the observed statistic lies in the confidence interval. If the observed statistic is not\r\nin our confidence interval, we have evidence to reject the null."}),"\n"]}),(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Confidence Intervals:"})," A confidence interval is a range that captures most of the distribution of the bootstrapped sample statistic in\r\nthe hopes of also containing the true population parameter within it. If\r\nwe were to construct a 95% confidence interval, we aren't saying that there is a 95% chance that the true population parameter lies in the\r\ninterval as the interval either contains it or it doesn't. Instead, we are saying that approximately 95% of the time, the intervals you\r\ncreate will contain the true population parameter. For example, if we generated 100 confidence intervals, about 95 of them will have the\r\ntrue population parameter."]})]}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsx)(t.p,{children:"When resampling, the size of the resample should be the same as the original sample with replacement."})}),"\n",(0,a.jsxs)(t.p,{children:["The diagram below provides an overview of conducting bootstrapping, although it references a different dataset. For additional helpful visual guides, please visit the ",(0,a.jsx)(t.a,{href:"https://dsc10.com/diagrams/",children:"Diagrams"})," site."]}),"\n",(0,a.jsx)(o.A,{src:"https://docs.google.com/presentation/d/e/2PACX-1vSovXDonR6EmjrT45h4pY1mwmcKFMWVSdgpbKHC5HNTm9sbG7dojvvCDEQCjuk2dk1oA4gmwMogr8ZL/embed?start=true&loop=false&delayms=3000&rm=minimal",sourceLink:"https://docs.google.com/presentation/d/1oYakqMdI7z61BthvgWUJvbT21bKTXg01KmAibglepBI/edit?usp=sharing"}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h2,{id:"code-example",children:"Code Example"}),"\n",(0,a.jsxs)(t.h3,{id:"1-take-a-random-sample-of-size-12-from-the-full_pets-dataframe",children:["1. Take a random sample of size 12 from the ",(0,a.jsx)(t.code,{children:"full_pets"})," DataFrame."]}),"\n",(0,a.jsxs)(t.p,{children:["Let's say we didn't have access to all of the information in the ",(0,a.jsx)(t.code,{children:"full_pets"})," DataFrame and were only able to collect a sample of 12 pets."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:"# Magic to ensure that we get the same results every time this code is run. \r\nnp.random.seed(42)\r\n\r\n# sample\r\npets_sample = full_pets.sample(12, replace=False)\r\npets_sample\n"})}),"\n",(0,a.jsx)(r.A,{data:'{"columns":["Unnamed: 0","ID","Species","Color","Weight","Age","Is_Cat","Owner_Comment"],"index":[18,14,4,13,10,7,6,3,2,15,17,8],"data":[[18,"cat_006","cat","black",3.0,0.5,true,"No, thank you!"],[14,"dog_007","dog","white",50.0,6.1,false,"No, thank you!"],[4,"dog_003","dog","black",25.0,0.5,false,"Be the person your dog thinks you are."],[13,"ham_003","hamster","black",0.5,0.1,false,"No, thank you!"],[10,"dog_006","dog","golden",35.0,4.0,false,"No, thank you!"],[7,"cat_003","cat","black",10.0,0.0,true,"No, thank you!"],[6,"ham_002","hamster","golden",0.25,0.2,false,"No, thank you!"],[3,"dog_002","dog","white",80.0,2.0,false,"Love is a wet nose and a wagging tail."],[2,"cat_002","cat","black",15.0,9.0,true,"****All you need is love and a cat.****"],[15,"ham_004","hamster","golden",0.25,0.2,false,"No, thank you!"],[17,"dog_009","dog","white",30.0,4.8,false,"No, thank you!"],[8,"dog_004","dog","black",45.0,6.7,false,"No, thank you!"]]}'}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h3,{id:"2-find-the-observed-parameter",children:"2. Find the observed parameter"}),"\n",(0,a.jsx)(t.p,{children:"In this case, we are interested in finding the median weight of the entire population."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:"pets_sample = full_pets.sample(12, replace=False)\r\nprint('Median of pets_sample weight:', pets_sample.get('Weight').median())\n"})}),"\n",(0,a.jsx)(t.p,{children:"Median of pets_sample weight: 20.0"}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h3,{id:"3-bootstrap-the-sample-10000-times-with-replacement",children:"3. Bootstrap the sample 10,000 times with replacement"}),"\n",(0,a.jsx)(t.p,{children:"Since we were only able to collect one random sample from the full population, we can't be sure if this singular guess predicts the\r\ntrue population parameter well. We can't go out and collect\r\nanother random sample, so we will create bootstrap samples with replacement to simulate what could've been."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:"boot_medians = np.array([])\r\nfor i in np.arange(10000):\r\n    # 1. resample the data\r\n    resample = pets_sample.sample(pets_sample.shape[0], replace=True)\r\n\r\n    # 2. calculate the median of the resample\r\n    boot_median = resample.get('Weight').median()\r\n\r\n    # 3. append the median to the array\r\n    boot_medians = np.append(boot_medians, boot_median)\n"})}),"\n",(0,a.jsx)(t.p,{children:"This code will create 10,000 bootstrap samples and calculate the median for each of these samples, but a different\r\nreasonable number can be used instead. Since these samples are all random, the information in each sample and each\r\nmedian will be different from one another."}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h3,{id:"4-create-a-95-confidence-interval",children:"4. Create a 95% confidence interval"}),"\n",(0,a.jsx)(t.p,{children:"Instead of using a single number to estimate the true population parameter, we create a range of where we think it is."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:"# Get the 95% confidence interval\r\nleft = np.percentile(boot_medians, 2.5) # 2.5th percentile\r\nright = np.percentile(boot_medians, 97.5) # 97.5th percentile\n"})}),"\n",(0,a.jsx)(t.p,{children:"Remember that the 95% confidence interval does not mean we have a 95% chance of containing the true population parameter. Instead, it means\r\nthat about 95% of all intervals we create will contain the true population parameter."}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h3,{id:"5-conclusion",children:"5. Conclusion"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:"left, right\n"})}),"\n",(0,a.jsx)(t.p,{children:"(1.75, 40.0)"}),"\n",(0,a.jsx)(t.admonition,{title:"Conclusion",type:"info",children:(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"From this interval, we are 95% confident that the true population median lies somewhere between 1.75 and 40."}),"\n",(0,a.jsx)(t.li,{children:"We have now way of knowing where exactly in this interval does the true population median falls or even if it is contained at all."}),"\n",(0,a.jsx)(t.li,{children:"What we do know is that if we were to repeating the process and generate multiple confidence intervals, roughly 95% of them will\r\ncontain the true population median."}),"\n"]})}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h3,{id:"6-extra",children:"6. Extra"}),"\n",(0,a.jsx)(t.p,{children:"Let's look at the distribution of the bootstrapped medians!"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-python",children:"# Create the histogram.\r\n# Plot the histogram of boot_medians\r\nplt.hist(boot_medians, bins=20, density=True, ec = 'w')\r\n\r\nplt.show()\n"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Distribution",src:n(6718).A+"",width:"576",height:"413"})}),"\n",(0,a.jsxs)(t.p,{children:["A 95% confidence level means that ",(0,a.jsx)(t.strong,{children:"approximately 95% of the time, the intervals you create through this process will contain the true population parameter"}),"."]})]})}function m(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8597:(e,t,n)=>{n.d(t,{A:()=>i});n(6540);var a=n(4848);const i=e=>{let{data:t}=e,n=[],i=[],r="",o=[];if(t){const e=JSON.parse(t);n=e.columns||[],i=e.data||[],r=e.indexName||"Index",o=e.index||[]}return(0,a.jsx)("div",{className:"dataframe-container",children:(0,a.jsxs)("table",{className:"dataframe-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:r}),n.map(((e,t)=>(0,a.jsx)("th",{children:e},t)))]})}),(0,a.jsx)("tbody",{children:i.map(((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"index-value",children:o[t]}),e.map(((e,t)=>{return(0,a.jsx)("td",{children:(n=e,"boolean"==typeof n?n.toString().charAt(0).toUpperCase()+n.toString().slice(1):n)},t);var n}))]},t)))})]})})}},5158:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(6540),i=n(4848);const r=function(e){let{src:t,sourceLink:n,width:r="100%",height:o="100%",paddingBottom:s="56.25%"}=e;const[l,d]=(0,a.useState)(0);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{position:"relative",height:"0",paddingBottom:s,overflow:"hidden",maxWidth:"100%"},children:(0,i.jsx)("iframe",{src:t,style:{position:"absolute",top:0,left:0,width:r,height:o,frameBorder:"0",allowFullScreen:!0}},l)}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"20px 0"},children:(0,i.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:"(Source)"})}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"10px 0"},children:(0,i.jsx)("button",{onClick:()=>{d((e=>e+1))},style:{backgroundColor:"#4CAF50",color:"white",padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer",outline:"none",fontSize:"16px",fontWeight:"bold",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",transition:"background-color 0.3s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#45a049",onMouseOut:e=>e.currentTarget.style.backgroundColor="#4CAF50",children:"Restart Diagram"})})]})}},6718:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/permutation-test-fae4df12733e667b05989b96bf08d9a9.png"},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>s});var a=n(6540);const i={},r=a.createContext(i);function o(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);